#include <mach/mt6577_typedefs.h>

#define FGAUGE_VOLTAGE_FACTOR           2.44 // mV
#define FGAUGE_CURRENT_FACTOR           6.25 // uV/Rsns
#define FGAUGE_CURRENT_OFFSET_FACTOR    1.56 // uV/Rsns
#define FGAUGE_CAR_FACTOR               6.25 // uV/Rsns
#define FGAUGE_RSNS_FACTOR              0.02 // Ohm

//#define COMPASATE_OCV                   80 // mV for evb
#define COMPASATE_OCV                   40 // mV for phone

#define BATTERY_VOLTAGE_MINIMUM         3400
#define BATTERY_VOLTAGE_MAXIMUM         4200

#define BATTERY_CAPACITY_MAXIMUM        1782
#define FMT_BATTERY_CAPACITY_MAXIMUM        1897


#define TEMPERATURE_T0                  110
#define TEMPERATURE_T1                  0
#define TEMPERATURE_T2                  25
#define TEMPERATURE_T3                  50
#define TEMPERATURE_T                   255 // This should be fixed, never change the value

//#define BATT_CAPACITY                   1280
#define BATT_CAPACITY                   1786
#define FMT_BATT_CAPACITY                   1946


#define ENABLE_SW_COULOMB_COUNTER       0 // 1 is enable, 0 is disable
//#define ENABLE_SW_COULOMB_COUNTER       1 // 1 is enable, 0 is disable

//#define FG_CURRENT_OFFSET_DISCHARGING 	31
#define FG_CURRENT_OFFSET_DISCHARGING 	0

#define FG_RESISTANCE 	20

#define FG_METER_RESISTANCE 	0
//#define FG_METER_RESISTANCE 	540 // current meter

//#define MAX_BOOTING_TIME_FGCURRENT	5*6 // 5 seconds, 6 points = 1s
#define MAX_BOOTING_TIME_FGCURRENT	1*10 // 10s

#if defined(CONFIG_POWER_EXT)
//#define OCV_BOARD_COMPESATE	32 //mV 
#define OCV_BOARD_COMPESATE	72 //mV 
#define R_FG_BOARD_BASE		1000
#define R_FG_BOARD_SLOPE	1000 //slope
#else
//#define OCV_BOARD_COMPESATE	0 //mV 
//#define OCV_BOARD_COMPESATE	48 //mV 
//#define OCV_BOARD_COMPESATE	25 //mV 
#define OCV_BOARD_COMPESATE	0 //mV 
#define R_FG_BOARD_BASE		1000
#define R_FG_BOARD_SLOPE	1000 //slope
//#define R_FG_BOARD_SLOPE	1057 //slope
//#define R_FG_BOARD_SLOPE	1075 //slope
#endif

#define Q_MAX_POS_50	1782
#define Q_MAX_POS_25	1786
#define Q_MAX_POS_0		1750
#define Q_MAX_NEG_10	1679

#define FMT_Q_MAX_POS_50	1897
#define FMT_Q_MAX_POS_25	1946
#define FMT_Q_MAX_POS_0		1748
#define FMT_Q_MAX_NEG_10	1017

#define FMT_Q_MAX_POS_50_H_CURRENT	1859
#define FMT_Q_MAX_POS_25_H_CURRENT	1924
#define FMT_Q_MAX_POS_0_H_CURRENT	1606
#define FMT_Q_MAX_NEG_10_H_CURRENT	741

#define Q_MAX_POS_50_H_CURRENT	1769
#define Q_MAX_POS_25_H_CURRENT	1770
#define Q_MAX_POS_0_H_CURRENT	1717
#define Q_MAX_NEG_10_H_CURRENT	1586

#define R_FG_VALUE 				20 // mOhm, base is 20
#define CURRENT_DETECT_R_FG	100  //10mA

#define OSR_SELECT_7			0

#define CAR_TUNE_VALUE			88 //1.00

/////////////////////////////////////////////////////////////////////
// <DOD, Battery_Voltage> Table
/////////////////////////////////////////////////////////////////////
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0  , 4164},
	{2  , 4136},
	{4  , 4113},
	{5  , 4094},
	{7  , 4081},
	{9  , 4067},
	{11 , 4048},
	{12 , 4028},
	{14 , 4010},
	{16 , 3995},
	{18 , 3984},
	{20 , 3975},
	{21 , 3966},
	{23 , 3957},
	{25, 3947},
	{27 , 3935},
	{28 , 3924},
	{30 , 3911},
	{32 , 3897},
	{34 , 3883},
	{36 , 3871},
	{37 , 3859},
	{39 , 3849},
	{41 , 3842},
	{43 , 3833},
	{44, 3827},
	{46 , 3820},
	{48 , 3816},  
	{50 , 3810}, 
	{52 , 3806},
	{53 , 3801},
	{55 , 3798},  
	{57 , 3794},
	{59 , 3791},
	{60 , 3788},
	{62 , 3785},
	{64 , 3784},
	{66 , 3783},
	{68 , 3781},
	{69 , 3779},
	{71 , 3776},
	{73 , 3773},
	{75 , 3769},
	{76 , 3762},
	{78 , 3754},
	{80 , 3745},
	{82 , 3735},
	{84 , 3724},
	{85 , 3714},
  {87 , 3708},
  {89 , 3703},
  {91 , 3701},
  {92 , 3696},
  {94 , 3684},
  {96 , 3638},
  {98 , 3558},
  {99 , 3510},
  {99 , 3479},
  {99 , 3458},
  {100 , 3444},
  {100 , 3432},
  {100 , 3424},
  {100 , 3417},
  {100 , 3412},
  {100 , 3407},
  {100 , 3403},
  {100 , 3401},
  {100, 3999},
  {100, 3999}
};      
        
// T1 0C
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0  , 4178},
	{2  , 4157},
	{3  , 4140},
	{5  , 4124},
	{7 , 4108},
	{9  , 4093},
	{10 , 4080},
	{12 , 4068},
	{14 , 4054},
	{15 , 4035},
	{17 , 4019},
	{19 , 4004},
	{20 , 3992},
	{22 , 3982},
	{24 , 3974},
	{26 , 3964},
	{27 , 3954},
	{29 , 3944},
	{31 , 3934},
	{32 , 3923},
	{34 , 3911},
	{36 , 3898},
	{38 , 3883},
	{39 , 3869},
	{41 , 3856},
	{43 , 3846}, 
	{44 , 3838},
	{46 , 3830},
	{48 , 3824},  
	{49 , 3817},
	{51 , 3813},
	{53 , 3808},
	{55 , 3803},
	{56 , 3800},
	{58 , 3795},
	{60 , 3791},
	{61 , 3789},
	{63 , 3786},
	{65 , 3783},
	{67 , 3781},
	{68 , 3780},
	{70 , 3779},
	{72 , 3778},
  {73 , 3775},
  {75 , 3770},
  {77 , 3764},
  {78 , 3758},
  {80 , 3749},
  {82 , 3737},
  {84 , 3726},
  {85 , 3712},
  {87 , 3704},
  {89 , 3701},
  {90 , 3698},
  {92 , 3695},
  {94 , 3692},
  {96 , 3664},
  {97 , 3595},
  {99 , 3495},
  {100, 3376},
  {100, 3341},
  {100, 3323},
  {100, 3314},
  {100, 3307},
  {100, 3305},
  {100, 3302},
  {100, 3300},
  {100, 3299},
  {100, 3299}
};

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0  , 4189},
	{2  , 4171},
	{3  , 4154},
	{5  , 4138},
	{7  , 4122},
	{8  , 4106},
	{10 , 4092},
	{12 , 4077},
	{13 , 4063},
	{15 , 4050},
	{17 , 4035},
	{18 , 4022},
	{20 , 4010},
	{22 , 3997},
	{23 , 3986},
	{25 , 3975},
	{27 , 3965},
	{28 , 3954},
	{30 , 3943},
	{32 , 3934},
	{33 , 3924},
	{35 , 3914},
	{37 , 3904},
	{38 , 3891},
	{40 , 3876},  
	{42 , 3861}, 
	{43 , 3848},
	{45 , 3838},
	{47 , 3831},  
	{48 , 3824},
	{50 , 3817},
	{52 , 3812},
	{53 , 3807},
	{55 , 3802},
	{57 , 3798},
	{59 , 3793},
	{60 , 3789},
	{62 , 3785},
	{63 , 3783},
	{65 , 3779},
	{67 , 3777},
	{69 , 3773},
	{70 , 3770},
  {72 , 3766},
  {74 , 3762},
  {75 , 3756},
  {77 , 3749},
  {79 , 3743},
  {80 , 3737},
  {82 , 3727},
  {84 , 3715},
  {85 , 3704},
  {87 , 3690},
  {89 , 3687},
  {90 , 3685},
  {92 , 3684},
  {94 , 3680},
  {95 , 3660},
  {97 , 3601},
  {99 , 3514},
  {100, 3377},
  {100, 3275},
  {100, 3259},
  {100, 3254},
  {100, 3253},
  {100, 3251},
  {100, 3251},
  {100, 3250},
  {100, 3250}
}; 

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0  , 4192},
	{2  , 4174},
	{3  , 4157},
	{5  , 4141},
	{7  , 4125},
	{8  , 4109},
	{10 , 4094},
	{12 , 4080},
	{13 , 4065},
	{15 , 4052},
	{17 , 4038},
	{18 , 4024},
	{20 , 4012},
	{22 , 3999},
	{23 , 3987},
	{25 , 3975},
	{27 , 3965},
	{28 , 3953},
	{30 , 3943},
	{32 , 3933},
	{34 , 3923},
	{35 , 3913},
	{37 , 3904},
	{38 , 3892},
	{40 , 3879},
	{42 , 3862},  
	{44 , 3849},
	{45 , 3840},
	{47 , 3831},  
	{49 , 3824},
	{50 , 3818},
	{52 , 3812},
	{54 , 3807},
	{55 , 3801},
	{57 , 3796},
	{59 , 3792},
	{60 , 3788},
	{62 , 3784},
	{64 , 3780},
	{65 , 3777},
	{67 , 3773},
	{69 , 3768},
	{70 , 3757},
	{72 , 3750},
  {74 , 3744},
  {75 , 3739},
  {77 , 3732},
  {79 , 3725},
  {80 , 3720},
  {82 , 3711},
  {84 , 3699},
  {85 , 3688},
  {87 , 3674},
  {89 , 3672},
  {90 , 3670},
  {92 , 3668},
  {94 , 3663},
  {95 , 3640},
  {97 , 3582},
  {99 , 3496},
  {100, 3363},
  {100, 3264},
  {100, 3255},
  {100, 3251},
  {100, 3250},
  {100, 3249},
  {100, 3248},
  {100, 3247},
  {100, 3247}
};              

//FMT
// T0 -10C
BATTERY_PROFILE_STRUC fmt_battery_profile_t0[] =
{
	{0  , 4150},
	{3  , 4131},
	{6  , 4095},
	{9  , 4049},
	{12 , 4017},
	{15 , 3993},
	{18 , 3972},
	{21 , 3954},
	{24 , 3939},
	{26 , 3926},
	{29 , 3916},
	{32 , 3905},
	{35 , 3895},
	{38 , 3886},
	{41 , 3877},
	{44 , 3868},
	{47 , 3858},
	{50 , 3849},
	{53 , 3839},
	{56 , 3829},
	{59 , 3818},
	{62 , 3805},
	{65 , 3793},
	{67 , 3781},
	{70 , 3767},
	{73 , 3755},
	{76 , 3744},
	{79 , 3733},  
	{82 , 3723}, 
	{85 , 3714},
	{88 , 3704},
	{91 , 3690},  
	{94 , 3660},
	{96 , 3622},
	{97 , 3595},
	{98 , 3575},
	{98 , 3563},
	{98 , 3554},
	{99 , 3549},
	{99 , 3545},
	{99 , 3543},
	{99 , 3541},
	{99 , 3539},
	{99 , 3539},
	{99 , 3538},
	{99 , 3538},
	{99 , 3536},
	{99 , 3536},
	{100, 3535},
        {100, 3534},
        {100, 3534},
        {100, 3533},
        {100, 3533},
        {100, 3532},
        {100, 3531},
        {100, 3530},
        {100, 3530},
        {100, 3529},
        {100, 3529},
        {100 ,3528},
        {100 ,3528},
        {100 ,3526},
        {100 ,3526},
        {100 ,3525},
        {100 ,3524},
        {100 ,3522},
        {100 ,3522},
        {100, 3521},
        {100, 3400}
};      
        
// T1 0C
BATTERY_PROFILE_STRUC fmt_battery_profile_t1[] =
{
	{0  , 4181},
	{2  , 4158},
	{3  , 4126},
	{5  , 4091},
	{7  , 4066},
	{9  , 4044},
	{10 , 4027},
	{12 , 4012},
	{14 , 3999},
	{15 , 3987},
	{17 , 3977},
	{19 , 3968},
	{20 , 3958},
	{22 , 3949},
	{24 , 3940},
	{26 , 3931},
	{27 , 3922},
	{29 , 3913},
	{31 , 3904},
	{32 , 3894},
	{34 , 3882},
	{36 , 3870},
	{38 , 3856},
	{39 , 3844},
	{41 , 3834},
	{43 , 3825}, 
	{44 , 3818},
	{46 , 3812},
	{48 , 3807},  
	{50 , 3802},
	{51 , 3797},
	{53 , 3794},
	{55 , 3790},
	{56 , 3787},
	{58 , 3785},
	{60 , 3783},
	{61 , 3782},
	{63 , 3781},
	{65 , 3781},
	{67 , 3779},
	{68 , 3778},
	{70 , 3776},
	{72 , 3774},
        {73 , 3772},
        {75 , 3768},
        {77 , 3763},
        {79 , 3756},
        {80 , 3747},
        {82 , 3738},
        {84 , 3725},
        {85 , 3709},
        {87 , 3698},
        {89 , 3691},
        {91 , 3686},
        {92 , 3681},
        {94 , 3674},
        {96 , 3663},
        {97 , 3636},
        {98 , 3609},
        {98 , 3583},
        {99 , 3561},
        {99 , 3543},
        {99 , 3529},
        {99 , 3518},
        {100, 3508},
        {100, 3500},
        {100, 3492},
        {100, 3486},
        {100, 3400}
};

// T2 25C
BATTERY_PROFILE_STRUC fmt_battery_profile_t2[] =
{
	{0  , 4183},
	{2  , 4163},
	{3  , 4148},
	{5  , 4132},
	{6  , 4118},
	{8  , 4102},
	{9  , 4088},
	{11 , 4075},
	{12 , 4063},
	{14 , 4049},
	{15 , 4036},
	{17 , 4022},
	{18 , 4009},
	{20 , 3997},
	{21 , 3988},
	{23 , 3977},
	{25 , 3967},
	{26 , 3957},
	{28 , 3947},
	{29 , 3939},
	{31 , 3930},
	{32 , 3922},
	{34 , 3913},
	{35 , 3905},
	{37 , 3898},  
	{38 , 3890}, 
	{40 , 3883},
	{41 , 3874},
	{43 , 3862},  
	{45 , 3845},
	{46 , 3831},
	{48 , 3820},
	{49 , 3812},
	{51 , 3807},
	{52 , 3801},
	{54 , 3797},
	{55 , 3793},
	{57 , 3790},
	{58 , 3786},
	{60 , 3782},
	{61 , 3780},
	{63 , 3777},
	{64 , 3775},
        {66 , 3773},
        {67 , 3772},
        {69 , 3771},
        {71 , 3771},
        {72 , 3768},
        {74 , 3767},
        {75 , 3764},
        {77 , 3761},
        {78 , 3755},
        {80 , 3748},
        {81 , 3740},
        {83 , 3733},
        {84 , 3720},
        {86 , 3707},
        {87 , 3690},
        {89 , 3682},
        {90 , 3678},
        {92 , 3676},
        {94 , 3672},
        {95 , 3666},
        {97 , 3646},
        {98 , 3572},
        {100, 3445},
        {101, 3337},
        {101, 3315},
        {101, 3315}
}; 

// T3 50C
BATTERY_PROFILE_STRUC fmt_battery_profile_t3[] =
{
	{0  , 4180},
	{2  , 4159},
	{3  , 4142},
	{5  , 4127},
	{6  , 4112},
	{8  , 4099},
	{9  , 4084},
	{11 , 4073},
	{13 , 4061},
	{14 , 4046},
	{16 , 4030},
	{17 , 4016},
	{19 , 4003},
	{20 , 3991},
	{22 , 3981},
	{24 , 3971},
	{25 , 3963},
	{27 , 3953},
	{28 , 3944},
	{30 , 3935},
	{31 , 3926},
	{33 , 3917},
	{35 , 3909},
	{36 , 3900},
	{38 , 3892},
	{39 , 3883},  
	{41 , 3874},
	{42 , 3861},
	{44 , 3847},  
	{46 , 3835},
	{47 , 3825},
	{49 , 3817},
	{50 , 3811},
	{52 , 3806},
	{54 , 3801},
	{55 , 3798},
	{57 , 3793},
	{58 , 3790},
	{60 , 3786},
	{61 , 3783},
	{63 , 3780},
	{65 , 3777},
	{66 , 3775},
	{68 , 3774},
        {69 , 3772},
        {71 , 3771},
        {72 , 3768},
        {74 , 3765},
        {76 , 3762},
        {77 , 3757},
        {79 , 3750},
        {80 , 3743},
        {82 , 3736},
        {83 , 3724},
        {85 , 3712},
        {87 , 3696},
        {88 , 3688},
        {90 , 3685},
        {91 , 3683},
        {93 , 3681},
        {94 , 3676},
        {96 , 3654},
        {98 , 3590},
        {99 , 3489},
        {100, 3386},
        {100, 3349},
        {101, 3331},
        {101, 3320},
        {101, 3320}
};   
// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	  {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	  {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0}
};    

/////////////////////////////////////////////////////////////////////
// <Rbat, Battery_Voltage> Table
/////////////////////////////////////////////////////////////////////
typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{343    ,  4164},
	{343    ,  4136},
	{363    ,  4113},
	{383    ,  4094},
	{398    ,  4081},
	{405    ,  4067},
	{415    ,  4048},
	{420    ,  4028},
	{425    ,  4010},
	{428    ,  3995},
	{438    ,  3984},
	{443    ,  3975},
	{445    ,  3966},
	{450    ,  3957},
	{453    ,  3947},
	{450    ,  3935},
	{455    ,  3924},
	{448    ,  3911},
	{440    ,  3897},
	{430    ,  3883},
	{425    ,  3871},  
	{418    ,  3859}, 
	{415    ,  3849},
	{415    ,  3842},
	{415    ,  3833},  
	{418    ,  3827},
	{420    ,  3820},
	{425    ,  3816},
	{425    ,  3810},
	{428    ,  3806},
	{430    ,  3801},
	{435    ,  3798},
	{438    ,  3794},
	{440    ,  3791},
	{443    ,  3788},
	{445    ,  3785},
	{453    ,  3784},
	{458    ,  3783},
	{460    ,  3781},
	{468    ,  3779},
	{470    ,  3776},
  {478    ,  3773},
  {485    ,  3769},
  {485    ,  3762},
  {490    ,  3754},
  {495    ,  3745},
  {500    ,  3735},
  {505    ,  3724},
  {513    ,  3714},
  {525    ,  3708},
  {540    ,  3703},
  {575    ,  3701},
  {623    ,  3696},
  {688    ,  3684},
  {740    ,  3638},
  {843    ,  3558},
  {778    ,  3510},
  {700    ,  3479},
  {650    ,  3458},
  {613    ,  3444},
  {583    ,  3432},
  {565    ,  3424},
  {545    ,  3417},
  {538   ,  3412},
  {518    ,  3407},
  {513    ,  3403},
  {505    ,  3401},
  {508    ,  3399},
  {503    ,  3399}
};

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
	{220    ,  4178},
	{220    ,  4157},
	{228    ,  4140},
	{233    ,  4124},
	{235    ,  4108},
	{238    ,  4093},
	{243    ,  4080},
	{245    ,  4068},
	{253    ,  4054},
	{250    ,  4035},
	{255    ,  4019},
	{258    ,  4004},
	{263    ,  3992},
	{268    ,  3982},
	{273    ,  3974},
	{278    ,  3964},
	{280    ,  3954},
	{285    ,  3944},
	{290    ,  3934},
	{290    ,  3923},
	{288    ,  3911},
	{283    ,  3898},
	{270    ,  3883},
	{258    ,  3869},
	{248    ,  3856},
	{245    ,  3846},
	{243    ,  3838},
	{243    ,  3830},  
	{245    ,  3824}, 
	{243    ,  3817},
	{248    ,  3813},
	{248    ,  3808},  
	{248    ,  3803},
	{255    ,  3800},
	{253    ,  3795},
	{255    ,  3791},
	{258    ,  3789},
	{260    ,  3786},
	{260    ,  3783},
	{263    ,  3781},
	{268    ,  3780},
	{268   ,  3779},
	{273    ,  3778},
	{273    ,  3775},
	{270    ,  3770},
	{265    ,  3764},
  {268    ,  3758},
  {268    ,  3749},
  {265    ,  3737},
  {268    ,  3726},
  {268    ,  3712},
  {268    ,  3704},
  {270    ,  3701},
  {278    ,  3698},
  {288    ,  3695},
  {315    ,  3692},
  {323    ,  3664},
  {333    ,  3595},
  {380    ,  3495},
  {440    ,  3376},
  {358    ,  3341},
  {310    ,  3323},
  {288    ,  3314},
  {273    ,  3307},
  {265    ,  3305},
  {255    ,  3302},
  {250    ,  3300},
  {253    ,  3299},
  {255    ,  3299}
}; 

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{

	{143    ,  4189},
	{143    ,  4171},
	{145    ,  4154},
	{148   ,  4138},
	{148    ,  4122},
	{145    ,  4106},
	{150    ,  4092},
	{150    ,  4077},
	{150   ,  4063},
	{153    ,  4050},
	{150    ,  4035},
	{153    ,  4022},
	{158    ,  4010},
	{158    ,  3997},
	{160    ,  3986},
	{160    ,  3975},
	{168    ,  3965},
	{168    ,  3954},
	{170    ,  3943},
	{178    ,  3934},
	{183    ,  3924},
	{188    ,  3914},
	{190    ,  3904},
	{185    ,  3891},  
	{173    ,  3876}, 
	{163    ,  3861},
	{153    ,  3848},
	{148    ,  3838},  
	{148    ,  3831},
	{148    ,  3824},
	{145    ,  3817},
	{145    ,  3812},
	{150    ,  3807},
	{150    ,  3802},
	{153    ,  3798},
	{153    ,  3793},
	{153    ,  3789},
	{153    ,  3785},
	{158    ,  3783},
	{155    ,  3779},
	{158    ,  3777},
	{155    ,  3773},
	{155    ,  3770},
	{153    ,  3766},
  {153    ,  3762},
  {150    ,  3756},
  {148    ,  3749},
  {148    ,  3743},
  {148    ,  3737},
  {148    ,  3727},
  {148    ,  3715},
  {148    ,  3704},
  {148    ,  3690},
  {145    ,  3687},
  {150    ,  3685},
  {153    ,  3684},
  {160    ,  3680},
  {155    ,  3660},
  {168    ,  3601},
  {175    ,  3514},
  {190    ,  3377},
  {193    ,  3275},
  {153    ,  3259},
  {138    ,  3254},
  {135    ,  3253},
  {130    ,  3251},
  {130    ,  3251},
  {130    ,  3250},
  {130    ,  3250}
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{128    ,  4192},
	{128    ,  4174},
	{128    ,  4157},
	{130    ,  4141},
	{130    ,  4125},
	{128    ,  4109},
	{130    ,  4094},
	{133    ,  4080},
	{130    ,  4065},
	{135    ,  4052},
	{135    ,  4038},
	{133    ,  4024},
	{135   ,  4012},
	{135    ,  3999},
	{138    ,  3987},
	{138    ,  3975},
	{140    ,  3965},
	{140    ,  3953},
	{143    ,  3943},
	{145    ,  3933},
	{150    ,  3923},
	{153    ,  3913},
	{160    ,  3904},
	{160    ,  3892},
	{158    ,  3879},
	{145    ,  3862},
	{138    ,  3849},
	{135    ,  3840},
	{133    ,  3831},  
	{133    ,  3824}, 
	{135    ,  3818},
	{135    ,  3812},
	{135    ,  3807},  
	{135    ,  3801},
	{135    ,  3796},
	{138    ,  3792},
	{140    ,  3788},
	{140    ,  3784},
	{140    ,  3780},
	{145    ,  3777},
	{145    ,  3773},
	{145    ,  3768},
	{133    ,  3757},
	{135    ,  3750},
	{133    ,  3744},
	{135    ,  3739},
	{133    ,  3732},
	{130    ,  3725},
	{133    ,  3720},
  {130    ,  3711},
  {130    ,  3699},
  {130    ,  3688},
  {130    ,  3674},
  {133    ,  3672},
  {133    ,  3670},
  {135    ,  3668},
  {138    ,  3663},
  {135    ,  3640},
  {145    ,  3582},
  {148    ,  3496},
  {158    ,  3363},
  {165    ,  3264},
  {140    ,  3255},
  {130    ,  3251},
  {128    ,  3250},
  {128    ,  3249},
  {125    ,  3248},
  {120    ,  3247},
  {123    ,  3247}
}; 

//FMT
// T0 -10C
R_PROFILE_STRUC fmt_r_profile_t0[] =
{
	{265     ,  4150},
	{523     ,  4131},
	{540     ,  4095},
	{693     ,  4049},
	{818     ,  4017},
	{858     ,  3993},
	{855     ,  3972},
	{843     ,  3954},
	{840     ,  3939},
	{835     ,  3926},
	{843     ,  3916},
	{848     ,  3905},
	{850     ,  3895},
	{853     ,  3886},
	{860     ,  3877},
	{863     ,  3868},
	{865     ,  3858},
	{873     ,  3849},
	{875     ,  3839},
	{883     ,  3829},
	{880     ,  3818},  
	{883     ,  3805}, 
	{888     ,  3793},
	{890     ,  3781},
	{890     ,  3767},  
	{893     ,  3755},
	{898     ,  3744},
	{913     ,  3733},
	{930     ,  3723},
	{953     ,  3714},
	{985     ,  3704},
	{1038    ,  3690},
	{1085    ,  3660},
	{1055    ,  3622},
	{990     ,  3595},
	{940     ,  3575},
	{910     ,  3563},
	{890     ,  3554},
	{875     ,  3549},
	{868     ,  3545},
	{860     ,  3543},
        {853     ,  3541},
        {850     ,  3539},
        {850     ,  3539},
        {848     ,  3538},
        {848     ,  3538},
        {843     ,  3536},
        {843     ,  3536},
        {838     ,  3535},
        {840     ,  3534},
        {840     ,  3534},
        {835     ,  3533},
        {840     ,  3533},
        {835     ,  3532},
        {833     ,  3531},
        {835     ,  3530},
        {833     ,  3530},
        {823     ,  3529},
        {825     ,  3529},
        {833     ,  3528},
        {828     ,  3528},
        {830     ,  3526},
        {815     ,  3526},
        {828     ,  3525},
        {815     ,  3524},
        {825     ,  3522},
        {805     ,  3522},
        {830     ,  3521},
        {530     ,  3400}
};

// T1 0C
R_PROFILE_STRUC fmt_r_profile_t1[] =
{
	{180     ,  4181},
	{263     ,  4158},
	{283     ,  4126},
	{330     ,  4091},
	{390     ,  4066},
	{430     ,  4044},
	{445     ,  4027},
	{448     ,  4012},
	{450     ,  3999},
	{455     ,  3987},
	{458     ,  3977},
	{465     ,  3968},
	{473     ,  3958},
	{480     ,  3949},
	{485     ,  3940},
	{488     ,  3931},
	{493     ,  3922},
	{493     ,  3913},
	{498     ,  3904},
	{493     ,  3894},
	{485     ,  3882},
	{478     ,  3870},
	{460     ,  3856},
	{453     ,  3844},
	{445     ,  3834},
	{443     ,  3825},
	{438     ,  3818},
	{440     ,  3812},  
	{443     ,  3807}, 
	{443     ,  3802},
	{443     ,  3797},
	{445     ,  3794},  
	{448     ,  3790},
	{448     ,  3787},
	{450     ,  3785},
	{455     ,  3783},
	{458     ,  3782},
	{465     ,  3781},
	{475     ,  3781},
	{485     ,  3779},
	{498     ,  3778},
	{510     ,  3776},
	{523     ,  3774},
	{538     ,  3772},
	{543     ,  3768},
	{555     ,  3763},
        {558     ,  3756},
        {565     ,  3747},
        {575     ,  3738},
        {583     ,  3725},
        {593     ,  3709},
        {605     ,  3698},
        {628     ,  3691},
        {660     ,  3686},
        {715     ,  3681},
        {805     ,  3674},
        {958     ,  3663},
        {1090    ,  3636},
        {1023    ,  3609},
        {965     ,  3583},
        {910     ,  3561},
        {865     ,  3543},
        {828     ,  3529},
        {798     ,  3518},
        {770     ,  3508},
        {758     ,  3500},
        {735     ,  3492},
        {718     ,  3486},
        {505     ,  3400}
}; 

// T2 25C
R_PROFILE_STRUC fmt_r_profile_t2[] =
{

	{153    ,  4183},
	{168    ,  4163},
	{173    ,  4148},
	{175    ,  4132},
	{178    ,  4118},
	{175    ,  4102},
	{180    ,  4088},
	{183    ,  4075},
	{185    ,  4063},
	{183    ,  4049},
	{188    ,  4036},
	{188    ,  4022},
	{190    ,  4009},
	{193    ,  3997},
	{200    ,  3988},
	{198    ,  3977},
	{205    ,  3967},
	{208    ,  3957},
	{208    ,  3947},
	{215    ,  3939},
	{218    ,  3930},
	{225    ,  3922},
	{228    ,  3913},
	{230    ,  3905},  
	{235    ,  3898}, 
	{238    ,  3890},
	{243    ,  3883},
	{240    ,  3874},  
	{228    ,  3862},
	{205    ,  3845},
	{188    ,  3831},
	{178    ,  3820},
	{173    ,  3812},
	{175    ,  3807},
	{173    ,  3801},
	{173    ,  3797},
	{175    ,  3793},
	{178    ,  3790},
	{175    ,  3786},
	{173    ,  3782},
	{175    ,  3780},
	{173    ,  3777},
	{175    ,  3775},
	{175    ,  3773},
        {178    ,  3772},
        {180    ,  3771},
        {185    ,  3771},
        {183    ,  3768},
        {188    ,  3767},
        {185    ,  3764},
        {188    ,  3761},
        {183    ,  3755},
        {183    ,  3748},
        {178    ,  3740},
        {183    ,  3733},
        {180    ,  3720},
        {183    ,  3707},
        {185    ,  3690},
        {185    ,  3682},
        {183    ,  3678},
        {193    ,  3676},
        {200    ,  3672},
        {213    ,  3666},
        {233    ,  3646},
        {248    ,  3572},
        {300    ,  3445},
        {345    ,  3337},
        {290    ,  3315},
        {288    ,  3315}
}; 

// T3 50C
R_PROFILE_STRUC fmt_r_profile_t3[] =
{
	{118    ,  4180},
	{170    ,  4159},
	{173    ,  4142},
	{178    ,  4127},
	{178    ,  4112},
	{183    ,  4099},
	{180    ,  4084},
	{185    ,  4073},
	{193    ,  4061},
	{195    ,  4046},
	{195    ,  4030},
	{198    ,  4016},
	{200    ,  4003},
	{203    ,  3991},
	{210    ,  3981},
	{210    ,  3971},
	{215    ,  3963},
	{215    ,  3953},
	{223    ,  3944},
	{225    ,  3935},
	{230    ,  3926},
	{233    ,  3917},
	{240    ,  3909},
	{240    ,  3900},
	{243    ,  3892},
	{243    ,  3883},
	{243    ,  3874},
	{230    ,  3861},
	{218    ,  3847},  
	{210    ,  3835}, 
	{200    ,  3825},
	{198    ,  3817},
	{198    ,  3811},  
	{200    ,  3806},
	{200    ,  3801},
	{208    ,  3798},
	{208    ,  3793},
	{213    ,  3790},
	{213    ,  3786},
	{218    ,  3783},
	{220    ,  3780},
	{220    ,  3777},
	{225    ,  3775},
	{228    ,  3774},
	{233    ,  3772},
	{240    ,  3771},
	{243    ,  3768},
	{248    ,  3765},
	{253    ,  3762},
        {255    ,  3757},
        {255    ,  3750},
        {255    ,  3743},
        {263    ,  3736},
        {263    ,  3724},
        {273    ,  3712},
        {273    ,  3696},
        {275    ,  3688},
        {283    ,  3685},
        {295    ,  3683},
        {318    ,  3681},
        {348    ,  3676},
        {370    ,  3654},
        {393    ,  3590},
        {455    ,  3489},
        {468    ,  3386},
        {380    ,  3349},
        {328    ,  3331},
        {305    ,  3320},
        {303    ,  3320}
}; 
// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	  {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
	  {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},   
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0}
};     


int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

